{% extends 'base.html' %} <!-- uvoizim sadržaj base.html -->

{% block title %}Home{% endblock title %} <!-- ovdje se menja title -->

{% load static %} <!-- uvoizim static fajle -->

{% block styles %}
    <link rel="stylesheet" href="{% static 'products/css/index.css' %}" type="text/css">
{% endblock styles %}

<!-- blok za JS static fajlova -->
{% block scripts %}
{% endblock scripts %}

<!-- blok za sadržaj -->
{% block content %}

<div class="container mt-5 overflow-hidden all-prduct">
  <div class="row">
    {% for product in products %}
    <div class="col-sm-6 col-md-4 mb-4">  <!-- svaka kartica zauzima 1/3 na md ekranima, 1/2 na sm -->
        <a href="{% url 'product_detail' product.pk %}">
        <div class="card" style="width: 100%;">  <!-- širina 100% unutar kolone -->
          {% with product.get_main_image as main_image %}
            {% if main_image %}
              <img src="{{ main_image.image.url }}" alt="{{ product.name }}" class="card-img-top">
            {% else %}
              {% with product.images.first as first_image %}
                {% if first_image %}
                  <img src="{{ first_image.image.url }}" alt="{{ product.name }}" class="card-img-top">
                {% else %}
                  <p>Nema slike</p>
                {% endif %}
              {% endwith %}
            {% endif %}
          {% endwith %}
          <div class="card-body">
            <hr>
            <h3>{{ product.name }}</h3>
          </div>
        </div>
      </a>
      </div>
    {% endfor %}
  </div>
</div>



{% endblock content %}